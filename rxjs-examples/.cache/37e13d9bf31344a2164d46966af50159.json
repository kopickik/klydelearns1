{"dependencies":[{"name":"../Subject","loc":{"line":7,"column":24}},{"name":"../util/tryCatch","loc":{"line":8,"column":25}},{"name":"../util/errorObject","loc":{"line":9,"column":28}},{"name":"../OuterSubscriber","loc":{"line":10,"column":32}},{"name":"../util/subscribeToResult","loc":{"line":11,"column":34}}],"generated":{"js":"\"use strict\";var t=this&&this.__extends||function(t,i){for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o]);function e(){this.constructor=t}t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)},i=require(\"../Subject\"),o=require(\"../util/tryCatch\"),e=require(\"../util/errorObject\"),n=require(\"../OuterSubscriber\"),r=require(\"../util/subscribeToResult\");function s(t){return function(i){return i.lift(new c(t))}}exports.windowWhen=s;var c=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,i){return i.subscribe(new u(t,this.closingSelector))},t}(),u=function(n){t(s,n);function s(t,i){n.call(this,t),this.destination=t,this.closingSelector=i,this.openWindow()}return s.prototype.notifyNext=function(t,i,o,e,n){this.openWindow(n)},s.prototype.notifyError=function(t,i){this._error(t)},s.prototype.notifyComplete=function(t){this.openWindow(t)},s.prototype._next=function(t){this.window.next(t)},s.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},s.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},s.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},s.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var n=this.window;n&&n.complete();var s=this.window=new i.Subject;this.destination.next(s);var c=o.tryCatch(this.closingSelector)();if(c===e.errorObject){var u=e.errorObject.e;this.destination.error(u),this.window.error(u)}else this.add(this.closingNotification=r.subscribeToResult(this,c))},s}(n.OuterSubscriber);"},"hash":"92353849794698be1f020ae416943977"}