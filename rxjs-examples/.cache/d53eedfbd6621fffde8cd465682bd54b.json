{"dependencies":[{"name":"./util/isArray","loc":{"line":2,"column":24}},{"name":"./util/isObject","loc":{"line":3,"column":25}},{"name":"./util/isFunction","loc":{"line":4,"column":27}},{"name":"./util/tryCatch","loc":{"line":5,"column":25}},{"name":"./util/errorObject","loc":{"line":6,"column":28}},{"name":"./util/UnsubscriptionError","loc":{"line":7,"column":36}}],"generated":{"js":"\"use strict\";var r=require(\"./util/isArray\"),t=require(\"./util/isObject\"),i=require(\"./util/isFunction\"),e=require(\"./util/tryCatch\"),s=require(\"./util/errorObject\"),n=require(\"./util/UnsubscriptionError\"),o=function(){function o(r){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,r&&(this._unsubscribe=r)}o.prototype.unsubscribe=function(){var o,c=!1;if(!this.closed){var a=this._parent,p=this._parents,h=this._unsubscribe,b=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var f=-1,l=p?p.length:0;a;)a.remove(this),a=++f<l&&p[f]||null;if(i.isFunction(h)){e.tryCatch(h).call(this)===s.errorObject&&(c=!0,o=o||(s.errorObject.e instanceof n.UnsubscriptionError?u(s.errorObject.e.errors):[s.errorObject.e]))}if(r.isArray(b))for(f=-1,l=b.length;++f<l;){var d=b[f];if(t.isObject(d)){if(e.tryCatch(d.unsubscribe).call(d)===s.errorObject){c=!0,o=o||[];var _=s.errorObject.e;_ instanceof n.UnsubscriptionError?o=o.concat(u(_.errors)):o.push(_)}}}if(c)throw new n.UnsubscriptionError(o)}},o.prototype.add=function(r){if(!r||r===o.EMPTY)return o.EMPTY;if(r===this)return this;var t=r;switch(typeof r){case\"function\":t=new o(r);case\"object\":if(t.closed||\"function\"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(\"function\"!=typeof t._addParent){var i=t;(t=new o)._subscriptions=[i]}break;default:throw new Error(\"unrecognized teardown \"+r+\" added to Subscription.\")}return(this._subscriptions||(this._subscriptions=[])).push(t),t._addParent(this),t},o.prototype.remove=function(r){var t=this._subscriptions;if(t){var i=t.indexOf(r);-1!==i&&t.splice(i,1)}},o.prototype._addParent=function(r){var t=this._parent,i=this._parents;t&&t!==r?i?-1===i.indexOf(r)&&i.push(r):this._parents=[r]:this._parent=r},o.EMPTY=(c=new o,c.closed=!0,c);var c;return o}();exports.Subscription=o;function u(r){return r.reduce(function(r,t){return r.concat(t instanceof n.UnsubscriptionError?t.errors:t)},[])}"},"hash":"f81cfcc3991aa566e43f075466637fa2"}