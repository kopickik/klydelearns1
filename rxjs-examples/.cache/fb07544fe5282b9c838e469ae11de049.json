{"dependencies":[{"name":"../scheduler/async","loc":{"line":7,"column":22}},{"name":"../util/isDate","loc":{"line":8,"column":23}},{"name":"../Subscriber","loc":{"line":9,"column":27}},{"name":"../Notification","loc":{"line":10,"column":29}}],"generated":{"js":"\"use strict\";var t=this&&this.__extends||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);function r(){this.constructor=t}t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},e=require(\"../scheduler/async\"),i=require(\"../util/isDate\"),r=require(\"../Subscriber\"),n=require(\"../Notification\");function o(t,r){void 0===r&&(r=e.async);var n=i.isDate(t)?+t-r.now():Math.abs(t);return function(t){return t.lift(new s(n,r))}}exports.delay=o;var s=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.delay,this.scheduler))},t}(),c=function(e){t(i,e);function i(t,i,r){e.call(this,t),this.delay=i,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}return i.dispatch=function(t){for(var e=t.source,i=e.queue,r=t.scheduler,n=t.destination;i.length>0&&i[0].time-r.now()<=0;)i.shift().notification.observe(n);if(i.length>0){var o=Math.max(0,i[0].time-r.now());this.schedule(t,o)}else e.active=!1},i.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(i.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},i.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,i=new u(e.now()+this.delay,t);this.queue.push(i),!1===this.active&&this._schedule(e)}},i.prototype._next=function(t){this.scheduleNotification(n.Notification.createNext(t))},i.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},i.prototype._complete=function(){this.scheduleNotification(n.Notification.createComplete())},i}(r.Subscriber),u=function(){return function(t,e){this.time=t,this.notification=e}}();"},"hash":"3dbfabd4334e59814289bcc94ec5283e"}