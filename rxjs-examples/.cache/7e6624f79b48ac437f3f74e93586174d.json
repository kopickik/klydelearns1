{"dependencies":[{"name":"../Subscription","loc":{"line":7,"column":29}},{"name":"../util/tryCatch","loc":{"line":8,"column":25}},{"name":"../util/errorObject","loc":{"line":9,"column":28}},{"name":"../OuterSubscriber","loc":{"line":10,"column":32}},{"name":"../util/subscribeToResult","loc":{"line":11,"column":34}}],"generated":{"js":"\"use strict\";var t=this&&this.__extends||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},e=require(\"../Subscription\"),r=require(\"../util/tryCatch\"),i=require(\"../util/errorObject\"),n=require(\"../OuterSubscriber\"),o=require(\"../util/subscribeToResult\");function s(t){return function(e){return e.lift(new u(t))}}exports.bufferWhen=s;var u=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.closingSelector))},t}(),c=function(n){t(s,n);function s(t,e){n.call(this,t),this.closingSelector=e,this.subscribing=!1,this.openBuffer()}return s.prototype._next=function(t){this.buffer.push(t)},s.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),n.prototype._complete.call(this)},s.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},s.prototype.notifyNext=function(t,e,r,i,n){this.openBuffer()},s.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},s.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var s=r.tryCatch(this.closingSelector)();s===i.errorObject?this.error(i.errorObject.e):(t=new e.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(o.subscribeToResult(this,s)),this.subscribing=!1)},s}(n.OuterSubscriber);"},"hash":"71aacf37c15e1bba8a872b0ddef9e812"}